<?xml version="1.0" encoding="utf-8"?>   
  <odoo>   
   <record id="view_invoice_form_inherit" model="ir.ui.view">
        <field name="name">account.move.form.inherit.api.button</field>
        <field name="model">account.move</field>
        <field name="inherit_id" ref="account.view_move_form"/>
        <field name="arch" type="xml">
            <xpath expr="//header" position="inside">
                <button name="action_send_request" string="Send Request" class="oe_highlight send_request_btn" type="object" 
                    groups="account.group_account_invoice" invisible="not show_send_request_btn"/>  

                <button name="%(action_print_frcs_report)d" string="Print Report" type="action" 
                    invisible="not is_post_status"/>              
                <button name="action_send_copy_request" string="Send Copy Request" class="oe_highlight" type="object" 
                    invisible="not is_post_status"/>        

            </xpath>

         <!--   <xpath expr="//button[@name='action_invoice_sent'][1]" position="attributes">
                <attribute name="invisible"> 
                    state != 'posted' and move_type not in ('out_invoice', 'out_refund') and is_post_status != True and move_type not in ('out_invoice', 'out_refund')
                </attribute>
            </xpath>
            <xpath expr="//button[@name='action_invoice_sent'][2]" position="attributes">
                <attribute name="invisible">
                    state != 'posted' and  is_post_status != True 
                </attribute>
            </xpath> -->

            <xpath expr="//field[@name='delivery_date']" position="after">
                <!-- Hide the whole block unless it's an invoice/bill -->
                <group invisible="move_type not in ('out_invoice', 'in_invoice')">
                    <field name="system_id"
                           options="{'no_create': True, 'no_open': True}"
                           readonly="state != 'draft'"
                           required="move_type in ('out_invoice', 'in_invoice')"/>
                    <field name="order_type" readonly="1"/>
                    <field name="buyer_cost_centerid" readonly="state != 'draft'"/>
                    <field name="is_post_status" string="Connected" widget="boolean_toggle" readonly="1"/>
                    <field name="show_send_request_btn" invisible="1"/>
                </group>
            </xpath>   

        <xpath expr="//field[@name='partner_shipping_id']" position="after">
            <field name="ref_doc_num" required="move_type == 'out_refund'" readonly="1"/>
            <field name="ref_doc_date" required="move_type == 'out_refund'" readonly="1"/>        
        </xpath>

        <xpath expr="//page[@id='other_tab']" position="after">
                <page string="Post Response" invisible="not is_post_status">
                    <group>
                        <field name="post_response"/>
                        <field name="qr_code" widget="image" invisible="not is_post_status" />
                    </group>
                </page>                                     
                   
                <page string="Copy Response" invisible="not is_copy_post_status">
                    <group>
                        <field name="copy_post_response"/>
                        <field name="copy_qr_code" widget="image" invisible="not is_copy_post_status" />                            
                    </group>
                </page>
            </xpath>
            <xpath expr="//button[@name='button_draft']" position="attributes">
                    <attribute name="invisible">1</attribute>
            </xpath>
            <xpath expr="//button[@name='preview_invoice']" position="attributes">
                    <attribute name="invisible">1</attribute>
            </xpath>
            <xpath expr="//button[@name='action_print_pdf']" position="attributes">
                    <attribute name="invisible">1</attribute>
            </xpath>
            <xpath expr="//button[@name='action_invoice_sent']" position="attributes">
                    <attribute name="invisible">1</attribute>
            </xpath> 
            <xpath expr="//page[@name='invoice_tab']//field[@name='invoice_line_ids']/list//field[@name='tax_ids']" position="attributes">
                <attribute name="required">1</attribute>
            </xpath>   
        </field>
    </record>

    <!-- Action for Training Invoice -->
    <record id="action_training" model="ir.actions.act_window">
        <field name="name">Training Sales/Refund</field>
        <field name="res_model">account.move</field>
        <field name="view_mode">list,form</field>
        <field name="domain">[('order_type', '=', 'training')]</field>
        <field name="context">
            {'default_order_type': 'training','default_move_type': 'out_invoice','search_default_out_invoice': 1}
        </field>
    </record>

    <menuitem id="menu_training_sales"
              name="Training Sales/Refund"
              parent="account.menu_finance_receivables"
              action="action_training"
              sequence="1"/>
              
    <record id="account.account_invoices_without_payment"  model="ir.actions.report">
        <field name="binding_model_id" eval="False"/>
    </record>           
</odoo>
       
   


